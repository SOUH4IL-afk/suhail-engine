import streamlit as st
import time

# ุฅุนุฏุงุฏุงุช ูุงุฌูุฉ ุงูุชุทุจูู
st.set_page_config(page_title="ูุญุฑู ุณููู ุงูุฑููู", page_icon="โ๏ธ", layout="centered")

# ุฏุงูุฉ ุญุณุงุจ ุงูุฌูู ุงููุจูุฑ (ุงููุญุฑู ุงูุฃุณุงุณู)
def calculate_abjad(text):
    abjad_map = {
        'ุฃ': 1, 'ุจ': 2, 'ุฌ': 3, 'ุฏ': 4, 'ู': 5, 'ู': 6, 'ุฒ': 7, 'ุญ': 8, 'ุท': 9,
        'ู': 10, 'ู': 20, 'ู': 30, 'ู': 40, 'ู': 50, 'ุณ': 60, 'ุน': 70, 'ู': 80,
        'ุต': 90, 'ู': 100, 'ุฑ': 200, 'ุด': 300, 'ุช': 400, 'ุซ': 500, 'ุฎ': 600,
        'ุฐ': 700, 'ุถ': 800, 'ุธ': 900, 'ุบ': 1000, ' ': 0, 'ุฉ': 5, 'ู': 10
    }
    return sum(abjad_map.get(char, 0) for char in text)

# ุชุตููู ุงููุงุฌูุฉ
st.title("โ๏ธ ูุญุฑู ุณููู ููุฒุงูุฑุฌุฉ")
st.markdown("---")

# ูุฏุฎูุงุช ุงููุณุชุฎุฏู
with st.sidebar:
    st.header("๐ ุจูุงูุงุช ุงููุดู")
    person = st.text_input("๐ค ุงุณู ุงูุดุฎุต")
    mother = st.text_input("๐ง ุงุณู ุงูุฃู")
    st.info("ููุงุญุธุฉ: ุงูุญุณุงุจ ูุนุชูุฏ ุนูู ุงูููู ุงูุนุฏุฏูุฉ ููุงุณู ููุช ุงูุณุคุงู.")

gate = st.selectbox("๐ช ุงุฎุชุฑ ุจูุงุจุฉ ุงููุดู ุงููุทููุจุฉ", 
                    ["ุจูุงุจุฉ ุงูููุงู (ููุตู)", "ุจูุงุจุฉ ุงูุดุนูุฑ (ููุณุน)", "ุจูุงุจุฉ ุงูููุฉ", "ุจูุงุจุฉ ุงูุทุงูุฉ", "ุจูุงุจุฉ ุงูุฒูู"])

if st.button("ุฅุทูุงู ุณุฑ ุงูุงุณุชูุทุงู ๐"):
    if person and mother:
        val = calculate_abjad(person) + calculate_abjad(mother)
        
        with st.spinner('โณ ุฌุงุฑู ุงุณุชุญุถุงุฑ ุงูุจูุงูุงุช ูุชุญููู ุงูุญุฑูู...'):
            time.sleep(2)
            
            # 1. ุจูุงุจุฉ ุงูููุงู ุงููุทูุฑุฉ
            if gate == "ุจูุงุจุฉ ุงูููุงู (ููุตู)":
                detailed_places = [
                    "๐ ููุฒูู ุงูุฎุงุต (ูู ุฎููุชู)", "๐ข ููุงู ุนูู ุฑุณูู ุฃู ููุชุจ", "๐๏ธ ูุฑุดุฉ ุฃู ููุงู ุนูู ูุฏูู", 
                    "๐ฃ๏ธ ูู ุงูุทุฑูู (ูุณููุฉ ููุงุตูุงุช)", "๐ณ ููุงู ุนุงู ููุชูุญ ุฃู ุญุฏููุฉ", "๐ ุณูู ุฃู ูุฑูุฒ ุชุฌุงุฑู", 
                    "โ ูููู ุฃู ููุงู ุชุฑูููู", "๐ ูุฑุจ ููุจุน ูุงุฆู (ุจุญุฑ ุฃู ููุฑ)", "๐ฅ ุจูุช ุฃูุงุฑุจ ุฃู ุฃุตุฏูุงุก", 
                    "๐ ููุงู ุนุจุงุฏุฉ ุฃู ุฒุงููุฉ", "๐ ูุคุณุณุฉ ุชุนููููุฉ ุฃู ุฏุฑุงุณุฉ", "๐ฆ ููุงู ูุบูู ุฃู ูุฎุฒู"
                ]
                directions = ["ุงูุดุฑู", "ุงูุบุฑุจ", "ุงูุดูุงู", "ุงูุฌููุจ"]
                res = f"ูุชูุงุฌุฏ ุงูุขู ูู [{detailed_places[val % len(detailed_places)]}] ุฌูุฉ [{directions[val % len(directions)]}]."

            # 2. ุจูุงุจุฉ ุงูุดุนูุฑ (ุชุนุฏูู ุณููู)
            elif gate == "ุจูุงุจุฉ ุงูุดุนูุฑ (ููุณุน)":
                feelings = ["ูุดุชุงู ููุชุฑุฏุฏ", "ุญุฒูู ุฃู ููููู", "ูุฑุชุงุญ ูููุดุฑุญ ุงูุตุฏุฑ", "ุบุงุถุจ ุฃู ูุถุทุฑุจ ุงูููุณ", "ูุชุญูุณ ููุชูุงุฆู", "ููู ุฃู ูุชูุชุฑ"]
                res = f"ุญุงูุฉ {person} ุงูููุณูุฉ ุงูุขู ูู: [{feelings[val % len(feelings)]}]."

            # 3. ุจูุงุจุฉ ุงูููุฉ
            elif gate == "ุจูุงุจุฉ ุงูููุฉ":
                intent = "ูุถูุฑ ุฎูุฑุงู ูุฑุบุจุฉ ูู ุงูุชูุงุตู" if val % 2 != 0 else "ูุถูุฑ ุญุฐุฑุงู ูุงูุดุบุงูุงู ุนูู"
                res = f"ููุฉ {person} ุชุฌุงูู ูู: [{intent}]."

            # 4. ุจูุงุจุฉ ุงูุทุงูุฉ
            elif gate == "ุจูุงุจุฉ ุงูุทุงูุฉ":
                energy = "ุทุงูุชู ูุธููุฉ ููุญุตูุฉ" if val % 3 == 0 else "ูุนุงูู ูู ุซูู ูุชูุฌุฉ ุนูู ุฃู ุญุณุฏ ุนุงุฑุถ"
                res = f"ูุถุน ุงูุทุงูุฉ ุงููุญูุทุฉ ุจู {person}: [{energy}]."

            # 5. ุจูุงุจุฉ ุงูุฒูู
            else:
                days = (val % 7) + 1
                res = f"ุชููุน ุฎุจุฑุงู ุฃู ุญุฏุซุงู ูุฎุตู ุฎูุงู [{days}] ุฃูุงู ุฃู ุณุงุนุงุช."

            # ุนุฑุถ ุงููุชูุฌุฉ
            st.success(f"๐ **ุงูุงุณุชูุทุงู ุงูููุงุฆู:**\n\nุจุฅุฐู ุงููู ูุจุณุฑ ุญูุดุบุบุ {res}")
            st.balloons()
    else:
        st.error("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุฃุณูุงุก ุฃููุงู!")

st.markdown("---")
st.caption("ุจุฑูุฌุฉ ูุชุทููุฑ: ูุญุฑู ุณููู ุงูุฑููู 2026")